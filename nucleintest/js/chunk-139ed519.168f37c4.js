(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-139ed519"],{"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},"13d5":function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),a=n("ae40"),s=o("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1533:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("van-nav-bar",{staticClass:"title-style",staticStyle:{"background-color":"#5d8eec"},attrs:{title:t.$store.state.pageTitle,"left-text":"返回","right-text":t.$store.state.rightText,"left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),n("span",{staticClass:"apply-title"},[t._v(t._s(t.applyState))]),n("van-form",{ref:"form",staticClass:"form-wrap",staticStyle:{"margin-bottom":"50Px"},on:{submit:t.onSubmit}},[t._l(t.formDate,(function(e,r){return n("van-cell-group",{key:r},[n("van-field",{attrs:{name:e.name,label:e.label,placeholder:e.label,"right-icon":e.rightIcon,readonly:!(!e.rightIcon&&!e.pickerDate),disabled:t.isCommited,rules:[{required:!0,message:"请填写"+e.label}]},on:{focus:function(n){(e.rightIcon||e.pickerDate)&&t.selectValue(e)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})],1)})),n("van-cell-group",[n("van-cell",{attrs:{center:"",title:"缓冲宿舍区"}},[n("van-switch",{attrs:{slot:"right-icon",size:"24"},slot:"right-icon",model:{value:t.bufferDorm,callback:function(e){t.bufferDorm=e},expression:"bufferDorm"}})],1)],1),n("van-cell-group",[n("van-cell",{attrs:{center:"",title:"外住"}},[n("van-switch",{attrs:{slot:"right-icon",size:"24"},slot:"right-icon",model:{value:t.livingOutside,callback:function(e){t.livingOutside=e},expression:"livingOutside"}})],1)],1),n("van-cell-group",[n("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",label:"留言",maxlength:"50",placeholder:"请输入留言","show-word-limit":"",name:t.messageName},model:{value:t.leavingMessage,callback:function(e){t.leavingMessage=e},expression:"leavingMessage"}})],1),t.isShowStep?t._e():n("uploader-model",{attrs:{fileList:t.fileList}}),t.isShowStep?n("van-cell",{attrs:{title:"附件","is-link":"",to:"enclosure"},on:{click:t.navToFileList}}):t._e(),t.isShowStep?n("van-steps",{attrs:{direction:"vertical",active:1}},t._l(t.signatureList,(function(e,r){return n("van-step",{directives:[{name:"show",rawName:"v-show",value:e.signatureStatus,expression:"signature.signatureStatus"}],key:r},[n("h3",{staticClass:"step-title"},[t._v(t._s(e.signTime+e.name))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.suggest,expression:"signature.suggest"}],staticClass:"step-des"},[t._v(t._s(e.comment))])])})),1):t._e()],2),n("van-action-sheet",{attrs:{actions:t.sheetaActions},on:{select:t.onSelectSheet},model:{value:t.isShowSheet,callback:function(e){t.isShowSheet=e},expression:"isShowSheet"}}),n("van-calendar",{on:{confirm:t.onConfirmDate},model:{value:t.isShowDatePicker,callback:function(e){t.isShowDatePicker=e},expression:"isShowDatePicker"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBottom,expression:"isShowBottom"}],staticClass:"bottom-button"},[n("van-button",{attrs:{type:"default"},on:{click:function(e){return t.signature(2)}}},[t._v("拒绝")]),n("van-button",{attrs:{type:"primary"},on:{click:function(e){return t.signature(1)}}},[t._v("通过审核")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowConfirmButton,expression:"isShowConfirmButton"}],staticClass:"confirm-completion"},[n("van-button",{attrs:{type:"primary",disabled:t.forbidden}},[t._v("确认已完成核酸检测")])],1)],1)},i=[],o=(n("99af"),n("4160"),n("13d5"),n("b0c0"),n("159b"),n("2909")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-list"},[n("van-grid",{attrs:{"column-num":3,square:"",gutter:10}},[t._l(t.fileList,(function(t,e){return n("van-grid-item",{key:e,staticClass:"grid-item",attrs:{icon:"description",text:t.name}})})),n("div",{attrs:{id:"picker-file"}},[t._v("上传附件")])],2)],1)},s=[],c={props:{fileList:Array},data:function(){return{}}},u=c,l=(n("f902"),n("2877")),f=Object(l["a"])(u,a,s,!1,null,"4c04f70a",null),d=f.exports,h=n("1c03"),m={name:"Apply",mixins:[],components:{UploaderModel:d},props:{},data:function(){return{applyState:"您还未申请，请如实填写以下信息",isShowSheet:!1,isShowBottom:!1,sheetaActions:[],isShowStep:!1,currentItem:"",isShowDatePicker:!1,docType:".png, .jpg, .jpeg,.doc,.docx,.xml",isCommited:!1,isShowConfirmButton:!1,forbidden:!1,formDate:[{name:"name",label:"用户名",value:""},{name:"staffId",label:"工号",value:""},{name:"gender",label:"性别",value:"",rightIcon:"arrow-down"},{name:"age",label:"年龄",value:""},{name:"group",label:"次集团",value:"",rightIcon:"arrow-down"},{name:"area",label:"所在厂区",value:"",rightIcon:"arrow-down"},{name:"bu",label:"事业群",value:"",rightIcon:"arrow-down"},{name:"legelPerson",label:"法人",value:"",rightIcon:"arrow-down"},{name:"costCode",label:"费用代码",value:""},{name:"identityCard",label:"身份证号",value:""},{name:"phone",label:"联系电话",value:""},{name:"aTime",label:"到深日期",value:"",pickerDate:!0},{name:"isolationDays",label:"隔离天数",value:""}],bufferDorm:!1,livingOutside:!1,leavingMessage:"",messageName:"note",fileList:[],myuploader:"",signatureList:[{fullName:"陈彦申",dateTime:"2020/2/20",suggest:"同意"},{fullName:"周铭嘉",dateTime:"2020/2/24",suggest:"同意"},{fullName:"邓嘉麟",dateTime:"2020/2/26"}]}},computed:{},watch:{},beforeCreate:function(){},created:function(){var t=this;if(void 0!=this.$route.params.isShowBottom){var e=this.$route.params.appId;this["appId"]=e,this.getOrderData("",e),this.$store.commit("changeTitle","核酸检测审批"),this.isShowBottom=!0,this.isShowStep=!0,this.isShowConfirmButton=!1,this.$store.commit("changeRightTitle","")}else{this.$store.commit("changeTitle","我的申请");var n=this.$store.state.localToken;Object(h["e"])({token:n}).then((function(e){e.isFil&&!t.isShowBottom?(t.$store.commit("changeRightTitle",""),t.getOrderData(n,""),t.isShowBottom=!1,t.isShowConfirmButton=!0,t.isShowStep=!0):(t.$store.commit("changeRightTitle","提交"),t.formDate.forEach((function(t){"name"===t.name&&(t.value=e.name),"staffId"===t.name&&(t.value=e.staffId)})),t.isShowConfirmButton=!1)}))}},mounted:function(){this.myuploader=WebUploader.create({pick:"#picker-file",mimeTypes:".pdf, .doc, .docx, .xml, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, .png, .jpeg, .jpg",capture:!1});var t=this;this.myuploader.on("fileQueued",(function(e){t.fileList.push(e.source.source)}))},destroyed:function(){},methods:{onSubmit:function(t){var e=this,n=new FormData,r=this.bufferDorm?1:0,i=this.livingOutside?1:0;for(var o in t["bufferDormitory"]=r,t["outLive"]=i,t["token"]="aa47fcf3013c81c35b39dd31821d87da1ded1de7",t)n.append(o,t[o]);this.fileList.forEach((function(t,e){n.append("file",t)})),console.log(n.getAll("file")),Object(h["a"])(n).then((function(t){console.log(t),e.$toast(t.reason),e.$router.back(-1)}))},selectValue:function(t){var e=this;this.currentItem=t,t.pickerDate?this.isShowDatePicker=!0:"gender"===t.name?(this.sheetaActions=[{name:"男"},{name:"女"}],this.isShowSheet=!0):Object(h["b"])({opt:t.name}).then((function(t){var n=t.reduce((function(t,e){return[].concat(Object(o["a"])(t),[{name:e}])}),[]);e.sheetaActions=n,e.isShowSheet=!0}))},onSelectSheet:function(t){this.currentItem.value=t.name,this.isShowSheet=!1},onConfirmDate:function(t){this.currentItem.value=this.formatDate(t),this.isShowDatePicker=!1},formatDate:function(t){return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())},onClickLeft:function(){this.$store.state.isOrg&&this.$router.back(-1)},onClickRight:function(){this.$refs["form"].submit()},getOrderData:function(t,e){var n=this,r={token:t,applicationCode:e};Object(h["c"])(r).then((function(t){console.log(t),n.formDate.forEach((function(e,n){e.value=t[e.name]})),n.leavingMessage=t["note"],n.bufferDorm=0!=t.bufferDormitory,n.livingOutside=0!=t.outLive,n.signatureList=t.signatureList}))},signature:function(t){var e=this,n={token:this.$store.state.localToken,status:t,applicationCode:this.appId,comment:"同意"};Object(h["f"])(n).then((function(t){e.$toast(t.reason)})),t?this.$router.push("/examine"):this.$router.back(-1)},navToFileList:function(){this.$router.push("/enclosure")}}},v=m,p=(n("9e03"),Object(l["a"])(v,r,i,!1,null,"84675f82",null));e["default"]=p.exports},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),o=n("2d00"),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),a=n("ad6d"),s="toString",c=RegExp.prototype,u=c[s],l=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=s;(l||f)&&r(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?a.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},2909:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){return r(t)||i(t)||o()}n.d(e,"a",(function(){return a}))},"330f":function(t,e,n){},"35ac":function(t,e,n){},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,f,d,h,m=i(t),v="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,b=void 0!==g,w=u(m),y=0;if(b&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==w||v==Array&&a(w))for(e=s(m.length),n=new v(e);e>y;y++)h=b?g(m[y],y):m[y],c(n,y,h);else for(f=w.call(m),d=f.next,n=new v;!(l=d.call(f)).done;y++)h=b?o(f,g,[l.value,y],!0):l.value,c(n,y,h);return n.length=y,n}},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),h=n("2d00"),m=d("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",g=h>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=f("concat"),w=function(t){if(!a(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},y=!g||!b;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,r,i,o,a=s(this),f=l(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],w(o)){if(i=c(o.length),d+i>v)throw TypeError(p);for(n=0;n<i;n++,d++)n in o&&u(f,d,o[n])}else{if(d>=v)throw TypeError(p);u(f,d++,o)}return f.length=d,f}})},"9e03":function(t,e,n){"use strict";var r=n("330f"),i=n.n(r);i.a},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),u=n("fdbf"),l=n("d039"),f=n("5135"),d=n("e8b5"),h=n("861d"),m=n("825a"),v=n("7b0b"),p=n("fc6a"),g=n("c04e"),b=n("5c6c"),w=n("7c73"),y=n("df75"),S=n("241c"),k=n("057f"),x=n("7418"),O=n("06cf"),D=n("9bf2"),C=n("d1e7"),j=n("9112"),T=n("6eeb"),$=n("5692"),I=n("f772"),_=n("d012"),A=n("90e3"),L=n("b622"),P=n("e538"),E=n("746f"),B=n("d44e"),N=n("69f3"),F=n("b727").forEach,R=I("hidden"),M="Symbol",J="prototype",z=L("toPrimitive"),q=N.set,Q=N.getterFor(M),U=Object[J],V=i.Symbol,W=o("JSON","stringify"),Y=O.f,G=D.f,H=k.f,K=C.f,X=$("symbols"),Z=$("op-symbols"),tt=$("string-to-symbol-registry"),et=$("symbol-to-string-registry"),nt=$("wks"),rt=i.QObject,it=!rt||!rt[J]||!rt[J].findChild,ot=s&&l((function(){return 7!=w(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(U,e);r&&delete U[e],G(t,e,n),r&&t!==U&&G(U,e,r)}:G,at=function(t,e){var n=X[t]=w(V[J]);return q(n,{type:M,tag:t,description:e}),s||(n.description=e),n},st=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},ct=function(t,e,n){t===U&&ct(Z,e,n),m(t);var r=g(e,!0);return m(n),f(X,r)?(n.enumerable?(f(t,R)&&t[R][r]&&(t[R][r]=!1),n=w(n,{enumerable:b(0,!1)})):(f(t,R)||G(t,R,b(1,{})),t[R][r]=!0),ot(t,r,n)):G(t,r,n)},ut=function(t,e){m(t);var n=p(e),r=y(n).concat(mt(n));return F(r,(function(e){s&&!ft.call(n,e)||ct(t,e,n[e])})),t},lt=function(t,e){return void 0===e?w(t):ut(w(t),e)},ft=function(t){var e=g(t,!0),n=K.call(this,e);return!(this===U&&f(X,e)&&!f(Z,e))&&(!(n||!f(this,e)||!f(X,e)||f(this,R)&&this[R][e])||n)},dt=function(t,e){var n=p(t),r=g(e,!0);if(n!==U||!f(X,r)||f(Z,r)){var i=Y(n,r);return!i||!f(X,r)||f(n,R)&&n[R][r]||(i.enumerable=!0),i}},ht=function(t){var e=H(p(t)),n=[];return F(e,(function(t){f(X,t)||f(_,t)||n.push(t)})),n},mt=function(t){var e=t===U,n=H(e?Z:p(t)),r=[];return F(n,(function(t){!f(X,t)||e&&!f(U,t)||r.push(X[t])})),r};if(c||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),n=function(t){this===U&&n.call(Z,t),f(this,R)&&f(this[R],e)&&(this[R][e]=!1),ot(this,e,b(1,t))};return s&&it&&ot(U,e,{configurable:!0,set:n}),at(e,t)},T(V[J],"toString",(function(){return Q(this).tag})),T(V,"withoutSetter",(function(t){return at(A(t),t)})),C.f=ft,D.f=ct,O.f=dt,S.f=k.f=ht,x.f=mt,P.f=function(t){return at(L(t),t)},s&&(G(V[J],"description",{configurable:!0,get:function(){return Q(this).description}}),a||T(U,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),F(y(nt),(function(t){E(t)})),r({target:M,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var n=V(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:lt,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ht,getOwnPropertySymbols:mt}),r({target:"Object",stat:!0,forced:l((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(v(t))}}),W){var vt=!c||l((function(){var t=V();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));r({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(h(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,W.apply(null,i)}})}V[J][z]||j(V[J],z,V[J].valueOf),B(V,M),_[R]=!0},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:i})},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,c="name";!r||c in o||i(o,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},d28b:function(t,e,n){var r=n("746f");r("iterator")},d58f:function(t,e,n){var r=n("1c0b"),i=n("7b0b"),o=n("44ad"),a=n("50c4"),s=function(t){return function(e,n,s,c){r(n);var u=i(e),l=o(u),f=a(u.length),d=t?f-1:0,h=t?-1:1;if(s<2)while(1){if(d in l){c=l[d],d+=h;break}if(d+=h,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=h)d in l&&(c=n(c,l[d],d,u));return c}};t.exports={left:s(!1),right:s(!0)}},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),a=n("9112"),s=n("b622"),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[c]!==l)try{a(h,c,l)}catch(v){h[c]=l}if(h[u]||a(h,u,f),i[f])for(var m in o)if(h[m]!==o[m])try{a(h,m,o[m])}catch(v){h[m]=o[m]}}}},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,u=n("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(d,l);var h=d.prototype=l.prototype;h.constructor=d;var m=h.toString,v="Symbol(test)"==String(l("test")),p=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=m.call(t);if(a(f,t))return"";var n=v?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,n){var r=n("b622");e.f=r},f902:function(t,e,n){"use strict";var r=n("35ac"),i=n.n(r);i.a}}]);
//# sourceMappingURL=chunk-139ed519.168f37c4.js.map